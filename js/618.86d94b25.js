"use strict";(self["webpackChunkproject_management2"]=self["webpackChunkproject_management2"]||[]).push([[618],{4618:function(e,t,n){n.r(t),n.d(t,{default:function(){return U}});var i=n(6252),o=n(3577),l=n(9963);const r={class:"container py-5"},s={style:{"font-weight":"bold","text-align":"center"}},d={style:{"font-weight":"bold","text-align":"center"}},u={class:"table table-hover mt-5",style:{overflow:"hidden","border-radius":"5px","box-shadow":"0 4px 20px rgba(0, 0, 0, 0.15)"}},a={colspan:"2"},g={class:"input-field"},p=(0,i._)("label",{for:"title"},"工種",-1),c={class:"input-field"},h=(0,i._)("label",{for:"quote"},"報價",-1),_={class:"input-field"},f=(0,i._)("label",{for:"title"},"成本",-1),b={class:"form-group mt-5"},T={class:"table table-hover",style:{overflow:"hidden","border-radius":"5px","box-shadow":"0 4px 20px rgba(0, 0, 0, 0.15)"}},w=(0,i._)("thead",null,[(0,i._)("tr",{style:{color:"white","font-weight":"bold",background:"#060411"}},[(0,i._)("td",null,"序號"),(0,i._)("td",null,"項目"),(0,i._)("td",null,"總報價"),(0,i._)("td",null,"總成本"),(0,i._)("td",null,"淨利"),(0,i._)("td",null,"動作")])],-1),m=(0,i.Uk)("編輯細節"),y=["onClick"],v={style:{"font-weight":"bold","text-align":"center"},class:"mt-5"},E={class:"table table-hover",style:{overflow:"hidden","border-radius":"5px","box-shadow":"0 4px 20px rgba(0, 0, 0, 0.15)"}},k=(0,i._)("thead",null,[(0,i._)("tr",{style:{color:"white","font-weight":"bold",background:"#060411"}},[(0,i._)("td",null,"序號"),(0,i._)("td",null,"項目"),(0,i._)("td",null,"總報價"),(0,i._)("td",null,"動作")])],-1),x=["onClick"],q=["onClick"];function R(e,t,n,R,C,z){const D=(0,i.up)("router-link");return(0,i.wg)(),(0,i.iD)("div",r,[(0,i._)("h1",s,(0,o.zw)(C.projectTitle),1),(0,i._)("h5",d,"工種: "+(0,o.zw)(C.engineeringType),1),(0,i._)("button",{onClick:t[0]||(t[0]=t=>e.$router.back()),type:"button",class:"btn btn-link"},"返回上一頁"),(0,i._)("table",u,[(0,i._)("tbody",null,[(0,i._)("tr",null,[(0,i._)("td",a,[(0,i._)("div",g,[p,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[1]||(t[1]=e=>C.input.title=e),placeholder:"輸入",ref:"title",id:"title",type:"text"},null,512),[[l.nr,C.input.title]])])]),(0,i._)("td",null,[(0,i._)("div",c,[h,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>C.input.quote=e),placeholder:"輸入",ref:"quote",id:"quote",type:"text"},null,512),[[l.nr,C.input.quote]])])]),(0,i._)("td",null,[(0,i._)("div",_,[f,(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>C.input.cost=e),placeholder:"輸入",ref:"cost",id:"cost",type:"text"},null,512),[[l.nr,C.input.cost]])])]),(0,i._)("td",null,[(0,i._)("a",{class:"btn btn-primary",href:"#!",onClick:t[4]||(t[4]=(...e)=>z.addEngineeringTodo&&z.addEngineeringTodo(...e))},"新增")])])])]),(0,i._)("div",b,[(0,i.wy)((0,i._)("input",{"onUpdate:modelValue":t[5]||(t[5]=e=>C.searchInput=e),onKeyup:t[6]||(t[6]=(0,l.D2)(((...e)=>z.serchEngineerTitle&&z.serchEngineerTitle(...e)),["enter"])),type:"text",name:"search",placeholder:"施作項目查詢",class:"form-control"},null,544),[[l.nr,C.searchInput]])]),(0,i._)("table",T,[w,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(z.engineeringTodosShowMode,((t,n)=>((0,i.wg)(),(0,i.iD)("tr",{key:t.id},[(0,i._)("td",null,(0,o.zw)(n),1),(0,i._)("td",null,(0,o.zw)(t.title),1),(0,i._)("td",null,(0,o.zw)(t.quote),1),(0,i._)("td",null,(0,o.zw)(t.cost),1),(0,i._)("td",null,(0,o.zw)(t.quote-t.cost),1),(0,i._)("td",null,[(0,i.Wm)(D,{to:{name:"edit-engineeringTodo-dashboard",params:{id:t.id}},class:"btn btn-outline-primary",onClick:n=>e.editTodo(t.id)},{default:(0,i.w5)((()=>[m])),_:2},1032,["to","onClick"]),(0,i._)("a",{href:"#!",class:"btn btn-outline-danger",onClick:(0,l.iM)((e=>z.temporaryRemoveTodo(n)),["stop","prevent"])},"暫放移除",8,y)])])))),128))])]),(0,i.wy)((0,i._)("h3",v,"暫放刪除區",512),[[l.F8,C.willRemoveEngineeringTodos.length]]),(0,i.wy)((0,i._)("table",E,[k,(0,i._)("tbody",null,[((0,i.wg)(!0),(0,i.iD)(i.HY,null,(0,i.Ko)(C.willRemoveEngineeringTodos,((e,t)=>((0,i.wg)(),(0,i.iD)("tr",{key:e.id},[(0,i._)("td",null,(0,o.zw)(t),1),(0,i._)("td",null,(0,o.zw)(e.title),1),(0,i._)("td",null,(0,o.zw)(e.cost),1),(0,i._)("td",null,[(0,i._)("a",{href:"#!",class:"btn btn-outline-primary",onClick:(0,l.iM)((e=>z.recoveryEngineeringTodos(t)),["stop","prevent"])},"復原",8,x),(0,i._)("a",{href:"#!",class:"btn btn-outline-danger",onClick:(0,l.iM)((t=>z.confirmRemoveTodo(e.id)),["stop","prevent"])},"確認移除",8,q)])])))),128))])],512),[[l.F8,0!==C.willRemoveEngineeringTodos.length]])])}n(7658);var C=n(5934),z=n(3907);const D={title:"林口陳宅豪宅規劃案",type:"木工",engineeringTodos:[{id:(0,C.Z)(),title:"door門扇",quote:35e3,cost:3e4,profit:0,profitMargin:0,amount:0,unit:"",unitPrice:0},{id:(0,C.Z)(),title:"floor木地板",quote:35e3,cost:3e4,profit:0,profitMargin:0,amount:0,unit:"",unitPrice:0}]};var j={name:"eachFactoryTodo",data(){return{input:{title:"",quote:0,cost:0},engineering:[],projectTitle:"",engineeringType:"",engineeringTodos:[],searchInput:"",filterEngineerTitles:[],willRemoveEngineeringTodos:[]}},computed:{...(0,z.rn)(["projects"]),engineeringTodosShowMode(){return 0===this.filterEngineerTitles.length?this.engineeringTodos:this.filterEngineerTitles}},created(){this.findtodo(),this.projectTitle=D.title,this.engineeringType=D.type,this.engineeringTodos=D.engineeringTodos},methods:{findtodo(){let e=[];this.projects.map((t=>e.push(t.engineerings)));let t=e.map((e=>e));console.log({...t}[0])},addEngineeringTodo(e){e.preventDefault();const t=this.input.title||this.input.title.trim();t?0!==this.input.quote?(this.engineeringTodos.push({id:(0,C.Z)(),title:this.input.title,quote:this.input.quote,cost:this.input.cost}),this.input.title="",this.input.quote=0,this.input.cost=0):alert("未輸入報價金額"):alert("未輸入施作項目")},serchEngineerTitle(e){e.preventDefault();const t=this.searchInput.trim();if(!t)return this.filterEngineerTitles=this.engineeringTodos,alert("您沒有輸入訊息");this.filterEngineerTitles=this.engineeringTodos.filter((e=>e.title.includes(t))),0===this.filterEngineerTitles.length&&alert(`您輸入關鍵字：${t}沒有結果`),this.searchInput=""},temporaryRemoveTodo(e){this.willRemoveEngineeringTodos.push(this.engineeringTodos[e]),this.engineeringTodos.splice(e,1)},recoveryEngineeringTodos(e){this.engineeringTodos.push(this.willRemoveEngineeringTodos[e]),this.willRemoveEngineeringTodos.splice(e,1)},confirmRemoveTodo(e){this.willRemoveEngineeringTodos=this.willRemoveEngineeringTodos.filter((t=>t.id===e))}}},M=n(3744);const I=(0,M.Z)(j,[["render",R]]);var U=I}}]);
//# sourceMappingURL=618.86d94b25.js.map